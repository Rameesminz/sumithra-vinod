<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EVM Demo</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="evm-box">
        <h2 class="title">EVM DEMO</h2>

        <table class="evm-table">
            <tr>
                <th>Candidate</th>
                <th>Button</th>
                <th>LED</th>
            </tr>

            <tr>
                <td>CANDIDATE 1</td>
                <td><button class="vote-btn" onclick="castVote(this,1)">VOTE</button></td>
                <td><div class="led" id="led1"></div></td>
            </tr>

            <tr>
                <td>CANDIDATE 2</td>
                <td><button class="vote-btn" onclick="castVote(this,2)">VOTE</button></td>
                <td><div class="led" id="led2"></div></td>
            </tr>

            <tr>
                <td>CANDIDATE 3</td>
                <td><button class="vote-btn" onclick="castVote(this,3)">VOTE</button></td>
                <td><div class="led" id="led3"></div></td>
            </tr>
        </table>
    </div>

    <audio id="beepSound" src="beep.mp3"></audio>

    <script>
        let voted = false;

        function castVote(btn, num) {
            if (voted) return;

            document.querySelectorAll(".vote-btn").forEach(b => b.classList.remove("active"));
            document.querySelectorAll(".led").forEach(l => l.classList.remove("on"));

            btn.classList.add("active");

            let led = document.getElementById("led" + num);
            led.classList.add("on");

            let beep = document.getElementById("beepSound");
            beep.currentTime = 0;
            beep.play();

            setTimeout(() => {
                led.classList.remove("on");
                beep.pause();
                beep.currentTime = 0;
            }, 1000);

            voted = true;
        }
    </script>

</body>
</html>
